"use strict";function pushComment(t){var e="/api/post/"+t,n={comment:document.querySelector("#comment-"+t).value},i={method:"PUT",body:JSON.stringify(n),headers:{Accept:"application/json, text/plain, /","Content-Type":"application/json"}};fetch(e,i).then(function(){M.toast({html:"Comment was sent!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function setupVerifyBtn(t,e){var n=document.querySelector("#view-verify-btn");n.innerHTML=e?(n.classList.add("grey"),"Unverify"):"Verify",n.addEventListener("click",function(){verifyContent(t,e)})}function verifyContent(t,e){var n="/api/post/"+t,i={verified:!e},o={method:"PUT",body:JSON.stringify(i),headers:{Accept:"application/json, text/plain, /","Content-Type":"application/json"}};fetch(n,o).then(function(){M.toast({html:"Content was "+(e?"un":"")+"verified!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function subscribeUser(t,e){fetch("/api/user/subscribe/user/"+t).then(function(){e.classList.add("disabled"),M.toast({html:"Subscribed to this author!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function unsubscribeUser(t,e){fetch("/api/user/unsubscribe/user/"+t).then(function(){e.classList.add("disabled"),M.toast({html:"Unsubscribed from this author!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function subscribeCategory(t,e){fetch("/api/user/subscribe/category/"+t).then(function(){e.classList.add("disabled"),M.toast({html:"Subscribed to this category!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function unsubscribeCategory(t,e){fetch("/api/user/unsubscribe/category/"+t).then(function(){e.classList.add("disabled"),M.toast({html:"Unsubscribed from this category!",displayLength:2e3,completeCallback:function(){location.reload()}})})}function setupSubButtons(e,n,t){var i=JSON.parse(t),o=document.querySelector("#view-follow-author-btn"),s=document.querySelector("#view-follow-cat-btn");i.users.some(function(t){return t===e})?(o.innerHTML="Unfollow this author!",o.classList.add("grey"),o.addEventListener("click",function(){unsubscribeUser(e,o)})):(o.innerHTML="Follow this author!",o.addEventListener("click",function(){subscribeUser(e,o)})),i.categories.some(function(t){return t===n})?(s.innerHTML="Unfollow this category!",s.classList.add("grey"),s.addEventListener("click",function(){unsubscribeCategory(n,s)})):(s.innerHTML="Follow this category!",s.addEventListener("click",function(){subscribeCategory(n,s)}))}