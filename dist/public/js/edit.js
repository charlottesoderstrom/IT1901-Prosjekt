"use strict";var quill=new Quill("#editor",{theme:"snow"}),titleField=document.querySelector("#edit-title-field"),authorField=document.querySelector("#edit-author-field"),createdField=document.querySelector("#edit-created-field"),categorySelect=document.querySelector("#edit-category-select"),publishBtn=document.querySelector("#edit-publish-btn");function editArticle(e){var t="/api/post/"+e,o={headline:titleField.value,text:quill.root.innerHTML,category:categorySelect.options[categorySelect.selectedIndex].value,verified:!1},l={method:"PUT",body:JSON.stringify(o),headers:{Accept:"application/json, text/plain, /","Content-Type":"application/json"}};fetch(t,l).then(function(){publishBtn.classList.add("disabled"),M.toast({html:"Content was edited!",displayLength:2e3,completeCallback:function(){window.location="/browse"}})})}function loadArticle(e){quill.root.innerHTML=e}function deleteArticle(e){fetch("/api/post/"+e,{method:"DELETE"}).then(function(e){200==e.status?M.toast({html:"Content was deleted!",displayLength:2e3,completeCallback:function(){window.location="/browse"}}):404==e.status?M.toast({html:"Could not find the article!",displayLength:2e3,completeCallback:function(){window.location="/browse"}}):422==e.status?M.toast({html:"Invalid article id!",displayLength:2e3,completeCallback:function(){window.location="/browse"}}):500==e.status&&M.toast({html:"Internal server error!",displayLength:2e3,completeCallback:function(){window.location="/browse"}})})}